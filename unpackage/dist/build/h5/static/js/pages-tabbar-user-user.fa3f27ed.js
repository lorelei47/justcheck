(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tabbar-user-user"],{"01d2":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@font-face{font-family:texticons;font-weight:400;font-style:normal;src:url(https://at.alicdn.com/t/font_984210_5cs13ndgqsn.ttf) format("truetype")}uni-page-body[data-v-40cbebf3],\nuni-view[data-v-40cbebf3]{display:-webkit-box;display:-webkit-flex;display:flex}uni-page-body[data-v-40cbebf3]{background-color:#f8f8f8}uni-button[data-v-40cbebf3]{width:100%}.center[data-v-40cbebf3]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.logo[data-v-40cbebf3]{width:%?750?%;height:%?240?%;padding:%?20?%;box-sizing:border-box;background-color:#237f41;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.logo-hover[data-v-40cbebf3]{opacity:.8}.logo-img[data-v-40cbebf3]{width:%?120?%;height:%?120?%;border-radius:%?150?%}.logo-title[data-v-40cbebf3]{height:%?150?%;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;margin-left:%?20?%}.uer-name[data-v-40cbebf3]{height:%?60?%;line-height:%?60?%;color:#fff}.go-login.navigat-arrow[data-v-40cbebf3]{color:#fff}.login-title[data-v-40cbebf3]{height:%?150?%;-webkit-box-align:self-start;-webkit-align-items:self-start;align-items:self-start;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;margin-left:%?20?%}.center-list[data-v-40cbebf3]{background-color:#fff;margin-top:%?20?%;width:%?750?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.center-list-item[data-v-40cbebf3]{height:%?90?%;width:%?750?%;box-sizing:border-box;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding:%?0?% %?20?%}.border-bottom[data-v-40cbebf3]{border-bottom-width:%?1?%;border-color:#c8c7cc;border-bottom-style:solid}.list-icon[data-v-40cbebf3]{width:%?40?%;height:%?90?%;line-height:%?90?%;color:#0faeff;text-align:center;font-family:texticons;margin-right:%?20?%}.list-text[data-v-40cbebf3]{height:%?90?%;line-height:%?90?%;color:#555;-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:left}.navigat-arrow[data-v-40cbebf3]{height:%?90?%;width:%?40?%;line-height:%?90?%;color:#555;text-align:right;font-family:texticons}body.?%PAGE?%[data-v-40cbebf3]{background-color:#f8f8f8}',""]),t.exports=e},"0234":function(t,e,i){"use strict";i.r(e);var n=i("1d2b"),o=i("67ba");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("1b5a");var s,c=i("f0c5"),r=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"40cbebf3",null,!1,n["a"],s);e["default"]=r.exports},"1b5a":function(t,e,i){"use strict";var n=i("bdd2"),o=i.n(n);o.a},"1d2b":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("cu-custom",{attrs:{bgColor:"topTitle"}},[i("template",{attrs:{slot:"content"},slot:"content"},[t._v("个人中心")])],2),i("v-uni-view",{staticClass:"center"},[i("v-uni-view",{staticClass:"logo",attrs:{"hover-class":t.hasLogin?"":"logo-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bindLogin.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"logo-img",attrs:{src:t.avatarUrl}}),i("v-uni-view",{staticClass:"logo-title"},[i("v-uni-text",{staticClass:"uer-name"},[t._v(t._s(t.hasLogin?t.userName:"您未登录"))]),t.hasLogin?t._e():i("v-uni-text",{staticClass:"go-login navigat-arrow"},[t._v("")])],1)],1),i("v-uni-view",{staticClass:"center-list"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.hasLogin&&t.hasPwd,expression:"hasLogin && hasPwd"}],staticClass:"center-list-item border-bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"list-icon"},[t._v("")]),i("v-uni-text",{staticClass:"list-text"},[t._v("修改密码")]),i("v-uni-text",{staticClass:"navigat-arrow"},[t._v("")])],1),i("v-uni-view",{staticClass:"center-list-item"},[i("v-uni-text",{staticClass:"list-icon"},[t._v("")]),i("v-uni-text",{staticClass:"list-text"},[t._v("新消息通知")]),i("v-uni-text",{staticClass:"navigat-arrow"},[t._v("")])],1)],1),i("v-uni-view",{staticClass:"center-list"},[i("v-uni-view",{staticClass:"center-list-item border-bottom"},[i("v-uni-text",{staticClass:"list-icon"},[t._v("")]),i("v-uni-text",{staticClass:"list-text"},[t._v("帮助与反馈")]),i("v-uni-text",{staticClass:"navigat-arrow"},[t._v("")])],1),i("v-uni-view",{staticClass:"center-list-item"},[i("v-uni-text",{staticClass:"list-icon"},[t._v("")]),i("v-uni-text",{staticClass:"list-text"},[t._v("服务条款及隐私")]),i("v-uni-text",{staticClass:"navigat-arrow"},[t._v("")])],1)],1),i("v-uni-view",{staticClass:"center-list"},[i("v-uni-view",{staticClass:"center-list-item"},[i("v-uni-text",{staticClass:"list-icon"},[t._v("")]),i("v-uni-text",{staticClass:"list-text"},[t._v("关于应用")]),i("v-uni-text",{staticClass:"navigat-arrow"},[t._v("")])],1)],1),t.hasLogin?i("v-uni-view",{staticClass:"center-list",attrs:{loading:t.logoutBtnLoading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bindLogout.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"center-list-item"},[i("v-uni-text",{staticClass:"list-icon"},[t._v("")]),i("v-uni-text",{staticClass:"list-text"},[t._v("退出登录")])],1)],1):t._e()],1)],1)},a=[]},"3fb2":function(t,e,i){"use strict";(function(t,n){var o=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("5530")),s=i("2f62"),c=i("ae1c"),r={data:function(){return{avatarUrl:"/static/img/logo.png",inviteUrl:"",logoutBtnLoading:!1,hasPwd:uni.getStorageSync("uni_id_has_pwd")}},computed:(0,a.default)({},(0,s.mapState)(["hasLogin","forcedLogin","userName"])),methods:(0,a.default)((0,a.default)({},(0,s.mapMutations)(["logout"])),{},{bindLogin:function(){this.hasLogin||(0,c.univerifyLogin)().catch((function(t){!1!==t&&uni.navigateTo({url:"/pages/user/login/login"})}))},bindLogout:function(){var e=this,i=uni.getStorageSync("login_type");if("local"===i)return this.logout(),void(this.forcedLogin&&uni.reLaunch({url:"/pages/user/login/login"}));this.logoutBtnLoading=!0,t.callFunction({name:"user-center",data:{action:"logout"},success:function(t){n("log","logout success",t," at pages/tabbar/user/user.vue:114"),0==t.result.code?(e.logout(),uni.removeStorageSync("uni_id_token"),uni.removeStorageSync("username"),uni.removeStorageSync("uni_id_has_pwd"),e.inviteUrl="",e.forcedLogin&&uni.reLaunch({url:"/pages/user/login/login"})):(uni.showModal({content:t.result.msg,showCancel:!1}),n("log","登出失败",t," at pages/tabbar/user/user.vue:135"))},fail:function(t){uni.showModal({content:JSON.stringify(t),showCancel:!1})},complete:function(){e.logoutBtnLoading=!1}})},goto:function(){uni.navigateTo({url:"/pages/user/pwd/update-password"})}})};e.default=r}).call(this,i("a9ff")["default"],i("0de9")["log"])},"67ba":function(t,e,i){"use strict";i.r(e);var n=i("3fb2"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},ae1c:function(t,e,i){"use strict";(function(t,n){var o=i("4ea4");i("99af"),i("c975"),i("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.univerifyLogin=s,e.univerifyErrorHandler=c;var a=o(i("74c8"));function s(){var e=a.default.commit,i="univerify";return new Promise((function(o,a){uni.getProvider({service:"oauth",success:function(s){-1!==s.provider.indexOf(i)?uni.login({provider:i,success:function(i){uni.closeAuthView(),uni.showLoading(),t.callFunction({name:"user-center",data:{action:"loginByUniverify",params:i.authResult},success:function(t){if(n("log","login success",t," at common/univerify.js:30"),0==t.result.code){var i=t.result.username||t.result.mobile||"一键登录新用户";uni.setStorageSync("uni_id_token",t.result.token),uni.setStorageSync("username",i),uni.setStorageSync("login_type","online"),e("login",i),o(),uni.switchTab({url:"../main/main"})}else uni.showModal({title:"登录失败: ".concat(t.result.code),content:t.result.message,showCancel:!1}),n("log","登录失败",t," at common/univerify.js:51"),t.result.errMsg=t.result.message},fail:function(t){uni.showModal({title:"登录失败",content:t.errMsg,showCancel:!1})},complete:function(){uni.hideLoading()}})},fail:function(t){return n("error","授权登录失败："+JSON.stringify(t)," at common/univerify.js:69"),30002==t.code?(uni.closeAuthView(),void a(!0)):30003==t.code?(uni.closeAuthView(),void a(!1)):void a(t)}}):a()},fail:function(t){n("error","获取服务供应商失败："+t.errMsg," at common/univerify.js:93"),a(t)}})}))}function c(t,e){if(t){a.default.state;var i={};switch(!0){case 1e3==t.code:uni.showModal(Object.assign({title:"登录失败",content:"".concat(t.errMsg,"，错误码：").concat(t.code,"\n开通指南：https://ask.dcloud.net.cn/article/37965")},i));break;case 30005==t.code:uni.showModal(Object.assign({showCancel:!1,title:"预登录失败",content:"".concat(t.errMsg,"，错误码：").concat(t.code)},i));break;case 30003!=t.code:uni.showModal(Object.assign({showCancel:!1,title:"登录失败",content:"".concat(t.errMsg,"，错误码：").concat(t.code)},i));break}}else e&&e()}}).call(this,i("a9ff")["default"],i("0de9")["log"])},bdd2:function(t,e,i){var n=i("01d2");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("3d3d7f45",n,!0,{sourceMap:!1,shadowMode:!1})}}]);